{% comment %}
  Animated Review & Hero Section
  - Clean Green Goodness hero layout
  - Review carousel with slider navigation
  - Preserves dynamic theme settings and auto-rotate behaviour
{% endcomment %}

{% liquid
  assign section_bg = section.settings.section_background | default: '#465233'
  assign overlay_color = section.settings.overlay_color | default: 'linear-gradient(180deg, rgba(29,39,24,0.46) 0%, rgba(49,63,38,0.78) 60%, rgba(58,72,46,0.88) 100%)'
  assign section_text = section.settings.section_text_color | default: '#ffffff'
  assign nav_bg = section.settings.nav_bg_color | default: '#ffffff'
  assign nav_icon = section.settings.nav_icon_color | default: '#1f3a20'
  assign nav_hover_bg = section.settings.nav_hover_bg_color | default: '#f4f5ef'
  assign nav_hover_icon = section.settings.nav_icon_hover_color | default: '#152812'
  assign card_base_bg = section.settings.card_background | default: 'rgba(48,58,44,0.62)'
  assign card_base_border = section.settings.card_border_color | default: 'rgba(255,255,255,0.18)'
  assign card_base_text = section.settings.card_text_color | default: '#f5f7ef'
  assign card_active_bg = section.settings.card_active_background | default: '#ffffff'
  assign card_active_text = section.settings.card_active_text_color | default: '#1f381f'
  assign card_active_border = section.settings.card_active_border_color | default: 'rgba(133,179,92,0.55)'
  assign card_shadow = section.settings.card_shadow_color | default: 'rgba(19,26,15,0.4)'
  assign hero_script_font = section.settings.script_font_family | default: "'Lucida Handwriting', 'Segoe Script', cursive"
  assign hero_heading_color = section.settings.heading_color | default: '#ffffff'
  assign hero_subheading_color = section.settings.subheading_color | default: '#ffffff'
  assign reviews_title_color = section.settings.reviews_title_color | default: '#ffffff'
  assign star_color = section.settings.star_color | default: '#88c165'
  assign verified_color = section.settings.verified_color | default: '#8fb97a'
  assign product_shadow = section.settings.product_shadow_color | default: 'rgba(18,25,13,0.35)'
  assign hero_spacing = section.settings.hero_spacing | default: 60
%}

<section
  id="animated-review-{{ section.id }}"
  class="animated-review matcha-goodness"
  style="
    --section-bg: {{ section_bg }};
    --overlay: {{ overlay_color }};
    --text-color: {{ section_text }};
    --hero-heading-color: {{ hero_heading_color }};
    --hero-subheading-color: {{ hero_subheading_color }};
    --hero-script-font: {{ hero_script_font }};
    --nav-bg: {{ nav_bg }};
    --nav-icon: {{ nav_icon }};
    --nav-hover-bg: {{ nav_hover_bg }};
    --nav-hover-icon: {{ nav_hover_icon }};
    --reviews-title-color: {{ reviews_title_color }};
    --card-base-bg: {{ card_base_bg }};
    --card-base-border: {{ card_base_border }};
    --card-base-text: {{ card_base_text }};
    --card-active-bg: {{ card_active_bg }};
    --card-active-text: {{ card_active_text }};
    --card-active-border: {{ card_active_border }};
    --card-shadow: {{ card_shadow }};
    --star-color: {{ star_color }};
    --verified-color: {{ verified_color }};
    --product-shadow: {{ product_shadow }};
    --hero-spacing: {{ hero_spacing }}px;
  "
>
  {% if section.settings.background_image != blank %}
    <div class="animated-review__bg" aria-hidden="true">
      {{ section.settings.background_image | image_url: width: 2400 | image_tag: loading: 'lazy', class: 'animated-review__bg-image', sizes: '(min-width: 1200px) 1200px, 100vw' }}
    </div>
  {% endif %}
  <div class="animated-review__overlay" aria-hidden="true"></div>

  <div class="animated-review__inner">
    <div class="animated-review__hero">
    {% if section.settings.subheading != blank %}
      <p class="animated-review__subheading" data-animate>{{ section.settings.subheading }}</p>
    {% endif %}

    {% if section.settings.heading != blank %}
      <h2 class="animated-review__heading" data-animate>{{ section.settings.heading | newline_to_br }}</h2>
    {% endif %}

      {% if section.settings.hero_spacer_height > 0 %}
        <div class="animated-review__hero-spacer" style="height: {{ section.settings.hero_spacer_height }}px"></div>
      {% endif %}
    </div>

    <div class="animated-review__navWrap">
      {% if section.settings.reviews_heading != blank %}
        <h3 class="animated-review__navTitle">{{ section.settings.reviews_heading }}</h3>
      {% endif %}
      <div class="animated-review__nav">
        <button class="animated-review__nav-btn" type="button" aria-label="{{ 'general.previous' | t }}" data-animated-review-nav="prev">
          <span aria-hidden="true">‚Üê</span>
        </button>
        <button class="animated-review__nav-btn" type="button" aria-label="{{ 'general.next' | t }}" data-animated-review-nav="next">
          <span aria-hidden="true">‚Üí</span>
        </button>
      </div>
    </div>

    {% if section.blocks.size > 0 %}
      <div class="animated-review__slider" role="list">
        <div class="animated-review__track">
        {% for block in section.blocks %}
            {% assign stars = block.settings.stars | default: '5' | plus: 0 %}
            <article
              class="animated-review__card{% if forloop.first %} is-active{% endif %} animated-review__card--{{ block.settings.card_theme | default: 'dark' }}"
              role="listitem"
              tabindex="0"
              data-index="{{ forloop.index0 }}"
              {{ block.shopify_attributes }}
            >
              <div class="animated-review__card-stars" aria-hidden="true">
                {% for i in (1..stars) %}
                  <span>‚òÖ</span>
                {% endfor %}
              </div>

              {% if block.settings.title != blank %}
                <p class="animated-review__card-title">
                  {{ block.settings.title }}
                  {% if block.settings.emoji != blank %}
                    <span class="animated-review__card-emoji">{{ block.settings.emoji }}</span>
                  {% endif %}
                </p>
              {% endif %}

              {% if block.settings.review_text != blank %}
                <div class="animated-review__card-body">
                  {{ block.settings.review_text }}
                </div>
              {% endif %}

              <div class="animated-review__card-divider" aria-hidden="true"></div>

              <div class="animated-review__card-footer">
                {% if block.settings.author != blank %}
                  <span class="animated-review__card-author">{{ block.settings.author }}</span>
                {% endif %}
                {% if block.settings.show_verified %}
                  <span class="animated-review__card-verified">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                      <circle cx="9" cy="9" r="8" stroke="currentColor" stroke-width="1.6"/>
                      <path d="M6.2 9.2L8.1 11.1L12 7.2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>{{ block.settings.verified_label | default: 'Verified' }}</span>
                  </span>
            {% endif %}
          </div>
            </article>
        {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>
</section>

  <style>
    #animated-review-{{ section.id }} {
      position: relative;
      isolation: isolate;
    background: var(--section-bg);
    color: var(--text-color);
      overflow: hidden;
    }

    #animated-review-{{ section.id }} .animated-review__bg {
      position: absolute;
      inset: 0;
      z-index: -3;
    }
    #animated-review-{{ section.id }} .animated-review__bg-image {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    #animated-review-{{ section.id }} .animated-review__overlay {
      position: absolute;
      inset: 0;
    background: var(--overlay);
      z-index: -2;
      pointer-events: none;
    }

    #animated-review-{{ section.id }} .animated-review__inner {
      position: relative;
      z-index: 2;
      max-width: 100%;
      margin: 0 auto;
      padding: clamp(140px, 14vw, 200px) 4vw clamp(90px, 11vw, 140px);
      text-align: center;
    }

  #animated-review-{{ section.id }} .animated-review__hero {
    display: grid;
    gap: clamp(18px, 3vw, 32px);
    justify-items: center;
    }

    #animated-review-{{ section.id }} .animated-review__subheading {
    font-family: var(--hero-script-font);
    font-size: clamp(1rem, 1.2vw + 0.6rem, 1.6rem);
    letter-spacing: 0.12em;
    color: var(--hero-subheading-color);
    margin: 0;
      opacity: 0;
    transform: translateY(16px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    #animated-review-{{ section.id }} .animated-review__heading {
    margin: var(--hero-spacing) 0 0;
    font-size: clamp(3.8rem, 7vw + 1rem, 6rem);
    line-height: 0.96;
      font-weight: 700;
    letter-spacing: -0.015em;
    color: var(--hero-heading-color);
    text-shadow: 0 32px 65px rgba(10, 14, 8, 0.28);
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.7s ease, transform 0.7s ease;
    }

  #animated-review-{{ section.id }} .animated-review__hero-spacer {
    width: 100%;
  }

  #animated-review-{{ section.id }} .animated-review__navWrap {
      display: grid;
    justify-items: center;
    gap: clamp(12px, 2vw, 20px);
    margin-top: clamp(-36px, -4vw, -22px);
    margin-bottom: clamp(32px, 5vw, 54px);
  }

  #animated-review-{{ section.id }} .animated-review__navTitle {
    margin: 0;
    font-size: clamp(1.4rem, 2vw + 0.8rem, 2.2rem);
    letter-spacing: 0.28em;
      text-transform: uppercase;
    color: var(--reviews-title-color);
    }

    #animated-review-{{ section.id }} .animated-review__nav {
      display: inline-flex;
    gap: clamp(18px, 3vw, 28px);
    }

    #animated-review-{{ section.id }} .animated-review__nav-btn {
    width: clamp(58px, 4.8vw, 72px);
    height: clamp(58px, 4.8vw, 72px);
      border-radius: 50%;
    border: none;
    background: var(--nav-bg);
    color: var(--nav-icon);
      display: inline-flex;
      align-items: center;
      justify-content: center;
    font-size: clamp(1.4rem, 2vw, 2rem);
    cursor: pointer;
    transition: background 0.3s ease, color 0.3s ease, transform 0.3s ease;
    box-shadow: 0 28px 60px rgba(13,18,9,0.28);
    }

    #animated-review-{{ section.id }} .animated-review__nav-btn:hover,
    #animated-review-{{ section.id }} .animated-review__nav-btn:focus-visible {
    background: var(--nav-hover-bg);
    color: var(--nav-hover-icon);
    transform: translateY(-4px);
      outline: none;
    }

    #animated-review-{{ section.id }} .animated-review__slider {
    --card-gap: clamp(18px, 2.4vw, 30px);
      position: relative;
      overflow: hidden;
    padding: 6px 0 12px;
    }

    #animated-review-{{ section.id }} .animated-review__track {
      display: flex;
    gap: var(--card-gap);
    transition: transform 0.6s cubic-bezier(.24,.8,.3,1);
      will-change: transform;
    }

    #animated-review-{{ section.id }} .animated-review__card {
    flex: 0 0 calc((100% - (var(--card-gap) * 2)) / 3);
    min-width: clamp(240px, 28vw, 340px);
    max-width: 420px;
    padding: clamp(26px, 3vw, 36px);
    border-radius: clamp(18px, 2.6vw, 28px);
    border: 1px solid rgba(255,255,255,0.32);
    background: rgba(255,255,255,0.12);
    color: var(--card-base-text);
    display: flex;
    flex-direction: column;
    gap: clamp(16px, 2vw, 22px);
    box-shadow: none;
    opacity: 0.85;
    transform: translateY(0) scale(1);
    transition: border-color 0.45s ease, background 0.45s ease, color 0.45s ease, opacity 0.45s ease;
    scroll-snap-align: center;
    backdrop-filter: blur(16px);
  }

  #animated-review-{{ section.id }} .animated-review__card-divider {
    height: 1px;
    background: rgba(255,255,255,0.35);
    opacity: 0.8;
  }
  #animated-review-{{ section.id }} .animated-review__card--light .animated-review__card-divider {
    background: rgba(0,0,0,0.12);
    }

    #animated-review-{{ section.id }} .animated-review__card.is-active {
    background: var(--card-active-bg);
    color: var(--card-active-text);
    border-color: var(--card-active-border);
    opacity: 1;
    backdrop-filter: blur(0);
  }
  #animated-review-{{ section.id }} .animated-review__card.is-active .animated-review__card-divider {
    background: rgba(0,0,0,0.1);
    opacity: 1;
  }
  #animated-review-{{ section.id }} .animated-review__card.is-active .animated-review__card-stars {
    color: var(--star-color);
    filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
  }
  #animated-review-{{ section.id }} .animated-review__card.is-active .animated-review__card-author,
  #animated-review-{{ section.id }} .animated-review__card.is-active .animated-review__card-verified {
    color: var(--card-active-text);
  }

    #animated-review-{{ section.id }} .animated-review__card-stars {
      display: inline-flex;
      justify-content: center;
      width: 100%;
      gap: 6px;
      font-size: 18px;
    color: var(--star-color);
      letter-spacing: 4px;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.25));
    }

    #animated-review-{{ section.id }} .animated-review__card-title {
    margin: 0;
    font-size: clamp(1.6rem, 1.3vw + 1rem, 2.1rem);
      font-weight: 700;
    line-height: 1.1;
  }

  #animated-review-{{ section.id }} .animated-review__card-emoji {
    margin-left: 6px;
    font-size: 1.25em;
    }

    #animated-review-{{ section.id }} .animated-review__card-body {
      margin: 0;
      font-size: clamp(1rem, 0.9vw + 0.8rem, 1.3rem);
      line-height: 1.55;
  }
  #animated-review-{{ section.id }} .animated-review__card-body p {
    margin: 0 0 0.75em;
  }
  #animated-review-{{ section.id }} .animated-review__card-body p:last-child {
    margin-bottom: 0;
    }

    #animated-review-{{ section.id }} .animated-review__card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-top: auto;
      font-size: 0.95rem;
    }

    #animated-review-{{ section.id }} .animated-review__card-author {
      font-weight: 700;
    }

    #animated-review-{{ section.id }} .animated-review__card-verified {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    color: var(--verified-color);
      font-weight: 600;
    }

    #animated-review-{{ section.id }} .animated-review__inner[data-visible="true"] .animated-review__subheading,
    #animated-review-{{ section.id }} .animated-review__inner[data-visible="true"] .animated-review__heading {
      opacity: 1;
      transform: translateY(0);
    }

  @media (max-width: 720px) {
    #animated-review-{{ section.id }} .animated-review__slider {
      overflow: visible;
    }
    #animated-review-{{ section.id }} .animated-review__track {
      scroll-snap-type: x mandatory;
      overflow-x: auto;
      }
      #animated-review-{{ section.id }} .animated-review__card {
      flex: 0 0 clamp(240px, 82vw, 320px);
      }
    }
  </style>

  <script>
  (function() {
    var root = document.getElementById('animated-review-{{ section.id }}');
    if (!root) return;

    var slider = root.querySelector('.animated-review__slider');
    var track = root.querySelector('.animated-review__track');
    var cards = Array.from(root.querySelectorAll('.animated-review__card'));
    var prevBtn = root.querySelector('[data-animated-review-nav="prev"]');
    var nextBtn = root.querySelector('[data-animated-review-nav="next"]');
    var animatedElements = Array.from(root.querySelectorAll('[data-animate]'));
    var autoRotate = {{ section.settings.auto_rotate | json }};
    var autoRotateInterval = {{ section.settings.auto_rotate_interval | default: 6 | times: 1000 }};
    var prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    var activeIndex = cards.length ? Math.min(Math.floor(cards.length / 2), cards.length - 1) : 0;
    var autoRotateTimer = null;

    var inner = root.querySelector('.animated-review__inner');
      if (inner) {
      var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              inner.setAttribute('data-visible', 'true');
            animatedElements.forEach(function(el) { el.setAttribute('data-visible', 'true'); });
              observer.disconnect();
            }
          });
        }, { threshold: 0.25 });
        observer.observe(inner);
      }

      if (!slider || cards.length === 0) return;

    var originalCards = cards.slice();
    var visibleCount = Math.min(3, originalCards.length);
    var centerOffset = Math.floor(visibleCount / 2);
    var hasLoop = track && originalCards.length > 1;

    if (hasLoop) {
      originalCards.slice(-visibleCount).forEach(function(card) {
        var clone = card.cloneNode(true);
        clone.classList.add('animated-review__card--clone');
        track.insertBefore(clone, track.firstChild);
      });
      originalCards.slice(0, visibleCount).forEach(function(card) {
        var clone = card.cloneNode(true);
        clone.classList.add('animated-review__card--clone');
        track.appendChild(clone);
      });
      cards = Array.from(root.querySelectorAll('.animated-review__card'));
    }

    var totalOriginal = originalCards.length;
    activeIndex = hasLoop ? visibleCount + centerOffset : Math.min(centerOffset, cards.length - 1);

      function highlightActive() {
      cards.forEach(function(card, idx) {
        card.classList.toggle('is-active', idx === activeIndex);
      });
      }

    function applyTransform(offset, animate) {
        if (!track) return;
      track.style.transition = (animate && !prefersReducedMotion) ? 'transform 0.6s cubic-bezier(.24,.8,.3,1)' : 'none';
      track.style.transform = 'translateX(' + (-offset) + 'px)';
      }

    function focusIndex(index, animate) {
        if (cards.length === 0) return;

        if (hasLoop) {
          activeIndex = index;
        } else {
          activeIndex = Math.max(0, Math.min(index, cards.length - 1));
        }

        highlightActive();

        if (!hasLoop || !track) return;

      var target = cards[activeIndex];
        if (!target) return;

      var offset = target.offsetLeft + target.clientWidth / 2 - slider.clientWidth / 2;
        applyTransform(offset, animate);
      }

      function normalizeLoop() {
        if (!hasLoop || !track) return;

      var adjusted = false;

      if (activeIndex >= totalOriginal + visibleCount) {
        activeIndex -= totalOriginal;
          adjusted = true;
        } else if (activeIndex < visibleCount) {
        activeIndex += totalOriginal;
          adjusted = true;
        }

        if (adjusted) {
        var target = cards[activeIndex];
          if (!target) return;
        var offset = target.offsetLeft + target.clientWidth / 2 - slider.clientWidth / 2;
          applyTransform(offset, false);
          highlightActive();
        }
      }

      if (hasLoop && track) {
      track.addEventListener('transitionend', function() {
          track.style.transition = 'none';
          normalizeLoop();
        requestAnimationFrame(function() {
            track.style.transition = 'transform 0.6s cubic-bezier(.24,.8,.3,1)';
          });
        });
      }

      if (prevBtn) {
      prevBtn.addEventListener('click', function() {
        focusIndex(activeIndex - 1, true);
          restartAutoRotate();
        });
      }

      if (nextBtn) {
      nextBtn.addEventListener('click', function() {
        focusIndex(activeIndex + 1, true);
          restartAutoRotate();
        });
      }

      function startAutoRotate() {
        if (!autoRotate || prefersReducedMotion) return;
        window.clearInterval(autoRotateTimer);
      autoRotateTimer = window.setInterval(function() {
        focusIndex(activeIndex + 1, true);
        }, autoRotateInterval);
      }

      function stopAutoRotate() {
        window.clearInterval(autoRotateTimer);
        autoRotateTimer = null;
      }

      function restartAutoRotate() {
        stopAutoRotate();
        startAutoRotate();
      }

    root.addEventListener('mouseenter', stopAutoRotate);
    root.addEventListener('mouseleave', startAutoRotate);
    root.addEventListener('focusin', stopAutoRotate);
    root.addEventListener('focusout', startAutoRotate);

    window.addEventListener('resize', function() {
        focusIndex(activeIndex, false);
      });

    highlightActive();
      focusIndex(activeIndex, false);
      startAutoRotate();
  })();
  </script>

{% schema %}
{
  "name": "Animated review carousel",
  "settings": [
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "Premium Matcha Taste" },
    { "type": "textarea", "id": "heading", "label": "Hero heading", "default": "Clean. Green.\nGoodness." },
    { "type": "image_picker", "id": "product_media", "label": "Hero product image" },
    { "type": "image_picker", "id": "background_image", "label": "Background image" },
    { "type": "text", "id": "overlay_color", "label": "Overlay gradient", "default": "linear-gradient(180deg, rgba(29,39,24,0.46) 0%, rgba(49,63,38,0.78) 60%, rgba(58,72,46,0.88) 100%)", "info": "Accepts CSS color or gradient value." },
    { "type": "text", "id": "reviews_heading", "label": "Reviews heading", "default": "DON'T TAKE OUR WORD FOR IT" },
    { "type": "text", "id": "script_font_family", "label": "Subheading font stack", "default": "'Lucida Handwriting', 'Segoe Script', cursive" },
    { "type": "color", "id": "section_background", "label": "Section fallback background", "default": "#465233" },
    { "type": "color", "id": "section_text_color", "label": "Section text color", "default": "#ffffff" },
    { "type": "color", "id": "heading_color", "label": "Hero heading color", "default": "#ffffff" },
    { "type": "color", "id": "subheading_color", "label": "Hero subheading color", "default": "#ffffff" },
    { "type": "color", "id": "reviews_title_color", "label": "Reviews heading color", "default": "#ffffff" },
    { "type": "color", "id": "nav_bg_color", "label": "Navigation button background", "default": "#ffffff" },
    { "type": "color", "id": "nav_icon_color", "label": "Navigation icon color", "default": "#1f3a20" },
    { "type": "color", "id": "nav_hover_bg_color", "label": "Navigation hover background", "default": "#f4f5ef" },
    { "type": "color", "id": "nav_icon_hover_color", "label": "Navigation hover icon color", "default": "#152812" },
    { "type": "color", "id": "card_background", "label": "Default card background", "default": "rgba(48,58,44,0.62)" },
    { "type": "color", "id": "card_text_color", "label": "Default card text color", "default": "#f5f7ef" },
    { "type": "color", "id": "card_border_color", "label": "Default card border color", "default": "rgba(255,255,255,0.18)" },
    { "type": "color", "id": "card_active_background", "label": "Active card background", "default": "#ffffff" },
    { "type": "color", "id": "card_active_text_color", "label": "Active card text color", "default": "#1f381f" },
    { "type": "color", "id": "card_active_border_color", "label": "Active card border color", "default": "rgba(133,179,92,0.55)" },
    { "type": "color", "id": "card_shadow_color", "label": "Card shadow color", "default": "rgba(19,26,15,0.4)" },
    { "type": "color", "id": "star_color", "label": "Star color", "default": "#88c165" },
    { "type": "color", "id": "verified_color", "label": "Verified badge color", "default": "#8fb97a" },
    { "type": "color", "id": "product_shadow_color", "label": "Hero image shadow color", "default": "rgba(18,25,13,0.35)" },
    { "type": "range", "id": "hero_spacing", "label": "Spacing between subheading and heading (px)", "min": 60, "max": 160, "step": 4, "default": 60 },
    { "type": "range", "id": "hero_spacer_height", "label": "Spacer height below hero text (px)", "min": 0, "max": 240, "step": 8, "default": 120 },
    { "type": "checkbox", "id": "auto_rotate", "label": "Automatically rotate reviews", "default": false },
    { "type": "range", "id": "auto_rotate_interval", "label": "Auto-rotate interval (seconds)", "min": 3, "max": 12, "step": 1, "default": 6 }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review",
      "settings": [
        { "type": "text", "id": "title", "label": "Review title", "default": "Super delicious!" },
        { "type": "text", "id": "emoji", "label": "Emoji (optional)", "default": "-" },
        { "type": "richtext", "id": "review_text", "label": "Review text", "default": "<p>Super delicious with ice cubes, water and oat-almond milk.</p>" },
        { "type": "text", "id": "author", "label": "Reviewer name", "default": "Tina H." },
        { "type": "checkbox", "id": "show_verified", "label": "Show verified badge", "default": true },
        { "type": "text", "id": "verified_label", "label": "Verified label text", "default": "Verified" },
        {
          "type": "select",
          "id": "stars",
          "label": "Star rating",
          "options": [
            { "value": "1", "label": "1" },
            { "value": "2", "label": "2" },
            { "value": "3", "label": "3" },
            { "value": "4", "label": "4" },
            { "value": "5", "label": "5" }
          ],
          "default": "5"
        },
        {
          "type": "select",
          "id": "card_theme",
          "label": "Card base theme",
          "options": [
            { "value": "dark", "label": "Muted dark" },
            { "value": "light", "label": "Soft light" }
          ],
          "default": "dark"
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Matcha hero & reviews",
      "category": "Testimonials",
      "blocks": [
        {
          "type": "review",
          "settings": {
            "title": "Super delicious!",
            "review_text": "<p>Super delicious with ice cubes, water and oat-almond milk.</p>",
            "author": "Tina H.",
            "card_theme": "dark"
          }
        },
        {
          "type": "review",
          "settings": {
            "title": "Risk of addiction",
            "emoji": "ü•π",
            "review_text": "<p>The iced matcha latte is so delicious, with a truly creamy consistency.</p>",
            "author": "Sandra D.",
            "card_theme": "dark"
          }
        },
        {
          "type": "review",
          "settings": {
            "title": "The best Matcha.",
            "review_text": "<p>This matcha has a sweet and tangy raspberry flavor. Perfect for breakfast or lunch.</p>",
            "author": "Sandra W.",
            "card_theme": "dark"
          }
        }
      ]
    }
  ]
}
{% endschema %}
