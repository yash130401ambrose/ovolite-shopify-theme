{% liquid
  assign section_padding_top = section.settings.padding_top | default: 80
  assign section_padding_bottom = section.settings.padding_bottom | default: 80
  assign text_alignment = section.settings.text_alignment | default: 'left'
  assign left_image = section.settings.image
  assign left_column_width = section.settings.left_column_width | default: 40
  assign right_column_width = 100 | minus: left_column_width
  assign use_lottie_checks = section.settings.use_lottie_checks
  assign lottie_src = section.settings.lottie_src
  assign lottie_size = section.settings.lottie_size | default: 32
  assign icon_animation_style = section.settings.check_icon_animation_style | default: 'float'
  assign has_check_image = false
  if section.settings.check_icon_image != blank
    assign has_check_image = true
  endif
  assign row_animation_style = section.settings.row_animation_style | default: 'slide-up'
  assign row_animation_speed = section.settings.row_animation_speed | default: 0.6
  if use_lottie_checks and lottie_src == blank
    assign use_lottie_checks = false
  endif
  assign image_alt_text = section.settings.image_alt
  if image_alt_text == blank and left_image != blank
    assign image_alt_text = left_image.alt
  endif
  if image_alt_text == blank
    assign image_alt_text = 'Feature compare image'
  endif
  assign left_label_image_alt = section.settings.left_label_image_alt
  if left_label_image_alt == blank
    assign left_label_image_alt = section.settings.left_label | default: 'More'
  endif
%}

<section
  id="feature-compare-ovolite-{{ section.id }}"
  class="feature-compare-ovolite"
  data-align="{{ text_alignment }}"
>
  {% if use_lottie_checks %}
    <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.5/dist/dotlottie-wc.js" type="module"></script>
  {% endif %}
  <style>
    #feature-compare-ovolite-{{ section.id }} {
      --fc-heading-color: {{ section.settings.heading_color | default: '#618049' }};
      --fc-subheading-color: {{ section.settings.subheading_color | default: '#32512D' }};
      --fc-body-color: {{ section.settings.body_color | default: 'rgba(50, 81, 45, 0.72)' }};
      --fc-bg-color: {{ section.settings.background_color | default: '#F5F7EC' }};
      --fc-border-color: {{ section.settings.row_border_color | default: 'rgba(98, 128, 73, 0.28)' }};
      --fc-header-color: {{ section.settings.header_color | default: 'rgba(50, 81, 45, 0.7)' }};
      --fc-check-bg: {{ section.settings.check_background | default: 'rgba(193, 217, 170, 0.35)' }};
      --fc-check-color: {{ section.settings.check_color | default: '#3F6B3B' }};
      --fc-cross-color: {{ section.settings.cross_color | default: 'rgba(50, 81, 45, 0.55)' }};
      --fc-padding-top: {{ section_padding_top | append: 'px' }};
      --fc-padding-bottom: {{ section_padding_bottom | append: 'px' }};
      --fc-icon-speed: {{ section.settings.check_icon_animation_speed | default: 4 | append: 's' }};
      --fc-label-image-width: {{ section.settings.left_label_image_width | default: 80 }}px;
      --fc-check-image: {% if section.settings.check_icon_image != blank %}url('{{ section.settings.check_icon_image | image_url: width: 160 }}'){% else %}none{% endif %};
      --fc-check-image-size: clamp(18px, 2vw, 24px);
      padding-top: {{ section_padding_top | append: 'px' }};
      padding-bottom: {{ section_padding_bottom | append: 'px' }};
      background-color: var(--fc-bg-color);
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__inner {
      width: 100%;
      max-width: none;
      margin-inline: 0;
      display: grid;
      grid-template-columns: minmax(0, {{ left_column_width }}%) minmax(0, {{ right_column_width }}%);
      gap: clamp(24px, 4vw, 64px);
      align-items: stretch;
      padding-left: 0;
      padding-right: clamp(16px, 3.5vw, 56px);
    }

    @media screen and (max-width: 1023px) {
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__inner {
        grid-template-columns: 1fr;
        padding-left: clamp(16px, 4vw, 32px);
        padding-right: clamp(16px, 4vw, 32px);
      }
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__media {
      position: relative;
      min-height: max({{ section.settings.media_min_height | default: 480 }}px, 100%);
      height: auto;
      overflow: hidden;
      border-radius: {{ section.settings.media_border_radius | default: 0 }}px;
      background-color: {{ section.settings.image_fallback_color | default: '#E6EDDA' }};
      display: flex;
      align-self: stretch;
      align-items: stretch;
      margin-top: calc(-1 * var(--fc-padding-top));
      margin-bottom: calc(-1 * var(--fc-padding-bottom));
    }

    @media screen and (max-width: 1023px) {
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__media {
        min-height: max({{ section.settings.media_min_height_mobile | default: 340 }}px, 100%);
        margin-top: 0;
        margin-bottom: 0;
      }
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
      flex: 1 1 auto;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__media--placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.6);
      font-size: 14px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__content {
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: clamp(24px, 4vw, 36px);
      text-align: {{ text_alignment }};
    }

    @media screen and (max-width: 639px) {
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__content {
        text-align: {{ section.settings.text_alignment_mobile | default: 'center' }};
      }
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__heading {
      margin: 0;
      color: var(--fc-heading-color);
      font-family: var(--font-heading-family, inherit);
      font-size: clamp(46px, 5.6vw, 82px);
      line-height: 0.92;
      font-weight: 700;
      letter-spacing: -0.015em;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__subheading {
      margin: 0;
      color: var(--fc-subheading-color);
      font-family: var(--font-heading-family, inherit);
      font-size: clamp(46px, 5.6vw, 82px);
      font-weight: 700;
      line-height: 0.92;
      letter-spacing: -0.015em;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__description {
      color: var(--fc-body-color);
      font-family: var(--font-body-family, inherit);
      font-size: clamp(16px, 2vw, 18px);
      line-height: 1.55;
      max-width: {{ section.settings.content_max_width | default: 620 }}px;
      margin: 0;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__table {
      display: flex;
      flex-direction: column;
      gap: 0;
      border-top: 1px solid var(--fc-border-color);
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__row {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) repeat(2, minmax(0, 0.55fr));
      align-items: stretch;
      padding-block: clamp(16px, 2.3vw, 28px);
      border-bottom: 1px solid var(--fc-border-color);
      gap: clamp(12px, 3vw, 28px);
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__row--header {
      font-size: 13px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--fc-header-color);
      font-weight: 600;
      padding-block: clamp(12px, 2vw, 20px);
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__cell {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 14px;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__cell--header {
      justify-content: flex-start;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__cell--indicator {
      justify-content: center;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__benefit {
      color: var(--fc-body-color);
      font-family: var(--font-body-family, inherit);
      font-size: clamp(17px, 2.4vw, 20px);
      font-weight: 500;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__pill {
      width: clamp(42px, 4vw, 56px);
      height: clamp(32px, 3vw, 42px);
      border-radius: 12px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background-color: transparent;
      transition: background-color 0.3s ease;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__cell--check .feature-compare-ovolite__pill {
      background: transparent;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__pill--image {
      background: transparent;
      box-shadow: none;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__cell--check .feature-compare-ovolite__pill--image {
      background: transparent;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__icon {
      width: clamp(18px, 2vw, 22px);
      height: clamp(18px, 2vw, 22px);
      display: inline-flex;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__icon-image {
      width: var(--fc-check-image-size);
      height: var(--fc-check-image-size);
      display: block;
      object-fit: contain;
      filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.08));
      animation-duration: var(--fc-icon-speed);
      animation-timing-function: ease-in-out;
      animation-iteration-count: infinite;
      transition: transform 0.45s ease, filter 0.45s ease;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__pill:hover .feature-compare-ovolite__icon-image {
      transform: translateY(-2px) scale(1.03);
      filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.12));
    }

    @media (prefers-reduced-motion: reduce) {
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__icon-image {
        animation: none;
        transition: none;
        opacity: 1 !important;
        animation-play-state: running;
        transform: none !important;
      }
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__pill:hover .feature-compare-ovolite__icon-image {
        transform: none;
        filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.08));
      }
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__icon--check {
        opacity: 1 !important;
        transform: none !important;
        transition: none;
      }
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__icon--check path {
      stroke: var(--fc-check-color);
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__icon--cross path {
      stroke: var(--fc-cross-color);
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__label {
      color: var(--fc-body-color);
      font-family: var(--font-body-family, inherit);
      font-size: clamp(15px, 2vw, 16px);
      font-weight: 500;
      text-align: center;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__label-image {
      width: min(var(--fc-label-image-width), 140px);
      max-width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
      margin-inline: auto;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--float .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-float;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--pulse .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-pulse;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--sway .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-sway;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--tilt .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-tilt;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--pop .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-pop;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--bounce .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-bounce;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--wiggle .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-wiggle;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--flash .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-flash;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--zoom .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-zoom;
    }

    #feature-compare-ovolite-{{ section.id }} .fc-icon-anim--spin .feature-compare-ovolite__icon-image {
      animation-name: fc-icon-spin;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__row[data-fc-row] {
      --fc-row-speed: {{ row_animation_speed }}s;
      transition: opacity var(--fc-row-speed) ease, transform var(--fc-row-speed) ease;
      transition-delay: var(--fc-icon-delay, 0s);
    }

    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check {
      opacity: 0;
      transform: translateY(16px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check.is-active {
      opacity: 1;
      transform: none;
    }

    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check .feature-compare-ovolite__icon-image {
      opacity: 0;
      animation-delay: var(--fc-icon-delay, 0s);
      animation-play-state: paused;
    }

    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check.is-active .feature-compare-ovolite__icon-image {
      opacity: 1;
      animation-play-state: running;
    }

    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check svg,
    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check dotlottie-wc {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      display: block;
    }

    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check.is-active svg,
    #feature-compare-ovolite-{{ section.id }}.is-observing .feature-compare-ovolite__icon--check.is-active dotlottie-wc {
      opacity: 1;
      transform: none;
    }

    @keyframes fc-icon-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
    }

    @keyframes fc-icon-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }

    @keyframes fc-icon-sway {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(-6deg); }
    }

    @keyframes fc-icon-tilt {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-3px) rotate(6deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    @keyframes fc-icon-pop {
      0%, 100% { transform: scale(1); }
      40% { transform: scale(1.12); }
      60% { transform: scale(0.98); }
    }

    @keyframes fc-icon-bounce {
      0%, 100% { transform: translateY(0); }
      30% { transform: translateY(-8px); }
      60% { transform: translateY(4px); }
    }

    @keyframes fc-icon-wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-8deg); }
      75% { transform: rotate(8deg); }
    }

    @keyframes fc-icon-flash {
      0%, 100% { transform: scale(1); filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.08)); }
      50% { transform: scale(1.05); filter: drop-shadow(0 10px 18px rgba(0, 0, 0, 0.18)) brightness(1.15); }
    }

    @keyframes fc-icon-zoom {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }

    @keyframes fc-icon-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @media screen and (max-width: 639px) {
      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__row {
        grid-template-columns: minmax(0, 1fr) repeat(2, minmax(0, 0.4fr));
        gap: 12px;
      }

      #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__label {
        font-size: 14px;
      }
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__row--header .feature-compare-ovolite__cell {
      justify-content: center;
    }

    #feature-compare-ovolite-{{ section.id }} .feature-compare-ovolite__row--header .feature-compare-ovolite__cell:first-child {
      justify-content: flex-start;
    }

    #feature-compare-ovolite-{{ section.id }} .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  </style>

  <div class="feature-compare-ovolite__inner">
    <div class="feature-compare-ovolite__media{% unless left_image %} feature-compare-ovolite__media--placeholder{% endunless %}">
      {% if left_image != blank %}
        {{
          left_image
          | image_url: width: 2000
          | image_tag: class: 'feature-compare-ovolite__image', loading: 'lazy', sizes: '(min-width: 1024px) 40vw, 100vw', alt: image_alt_text
        }}
      {% else %}
        <span>Left column image</span>
      {% endif %}
    </div>
    <div class="feature-compare-ovolite__content">
      {% if section.settings.subheading != blank %}
        <p class="feature-compare-ovolite__subheading">{{ section.settings.subheading }}</p>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h2 class="feature-compare-ovolite__heading">{{ section.settings.heading }}</h2>
      {% endif %}
      {% if section.settings.description != blank %}
        <div class="feature-compare-ovolite__description rte">
          {{ section.settings.description }}
        </div>
      {% endif %}

      <div class="feature-compare-ovolite__table" role="table">
        <div class="feature-compare-ovolite__row feature-compare-ovolite__row--header" role="row">
          <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--header" role="columnheader">
            {{ section.settings.benefit_heading | default: 'Benefits' }}
          </div>
          <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--indicator" role="columnheader">
            {% if section.settings.left_label_image != blank %}
              {{
                section.settings.left_label_image
                | image_url: width: 300
                | image_tag: class: 'feature-compare-ovolite__label-image', loading: 'lazy', alt: left_label_image_alt
              }}
            {% else %}
              <span class="feature-compare-ovolite__label">{{ section.settings.left_label | default: 'More' }}</span>
            {% endif %}
          </div>
          <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--indicator" role="columnheader">
            <span class="feature-compare-ovolite__label">{{ section.settings.right_label | default: 'Regular Matcha' }}</span>
          </div>
        </div>

        {% if section.blocks.size > 0 %}
          {% for block in section.blocks %}
            {% assign row_delay = forloop.index0 | times: 0.08 %}
            <div class="feature-compare-ovolite__row fc-row-anim--{{ row_animation_style }}" role="row" data-fc-row style="--fc-icon-delay: {{ row_delay | round: 2 }}s;" {{ block.shopify_attributes }}>
              <div class="feature-compare-ovolite__cell" role="cell">
                <span class="feature-compare-ovolite__benefit">{{ block.settings.benefit | escape }}</span>
              </div>
              <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--indicator feature-compare-ovolite__cell--{{ block.settings.left_state }}" role="cell">
                <span class="feature-compare-ovolite__pill{% if block.settings.left_state == 'check' and has_check_image %} feature-compare-ovolite__pill--image{% endif %}" aria-hidden="true">
                  {% if block.settings.left_state == 'check' %}
                    <span class="feature-compare-ovolite__icon feature-compare-ovolite__icon--check fc-icon-anim--{{ icon_animation_style }}">
                      {% if has_check_image %}
                        {{
                          section.settings.check_icon_image
                          | image_url: width: 160
                          | image_tag: class: 'feature-compare-ovolite__icon-image', loading: 'lazy', alt: '', role: 'presentation'
                        }}
                      {% elsif use_lottie_checks %}
                        <dotlottie-wc
                          src="{{ lottie_src }}"
                          style="width: {{ lottie_size }}px; height: {{ lottie_size }}px;"
                          autoplay
                          loop
                          aria-hidden="true"
                        ></dotlottie-wc>
                      {% else %}
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M5.5 12.5L10 17l8.5-8.5" stroke="{{ section.settings.check_color | default: '#3F6B3B' }}" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      {% endif %}
                    </span>
                  {% else %}
                    <span class="feature-compare-ovolite__icon feature-compare-ovolite__icon--cross">
                      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 7l10 10m0-10L7 17" stroke-width="2.2" stroke-linecap="round"/>
                      </svg>
                    </span>
                  {% endif %}
                </span>
                <span class="visually-hidden">
                  {{ section.settings.left_label | default: 'More' }} {% if block.settings.left_state == 'check' %}includes{% else %}does not include{% endif %} {{ block.settings.benefit }}
                </span>
              </div>
              <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--indicator feature-compare-ovolite__cell--{{ block.settings.right_state }}" role="cell">
                <span class="feature-compare-ovolite__pill{% if block.settings.right_state == 'check' and has_check_image %} feature-compare-ovolite__pill--image{% endif %}" aria-hidden="true">
                  {% if block.settings.right_state == 'check' %}
                    <span class="feature-compare-ovolite__icon feature-compare-ovolite__icon--check fc-icon-anim--{{ icon_animation_style }}">
                      {% if has_check_image %}
                        {{
                          section.settings.check_icon_image
                          | image_url: width: 160
                          | image_tag: class: 'feature-compare-ovolite__icon-image', loading: 'lazy', alt: '', role: 'presentation'
                        }}
                      {% elsif use_lottie_checks %}
                        <dotlottie-wc
                          src="{{ lottie_src }}"
                          style="width: {{ lottie_size }}px; height: {{ lottie_size }}px;"
                          autoplay
                          loop
                          aria-hidden="true"
                        ></dotlottie-wc>
                      {% else %}
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M5.5 12.5L10 17l8.5-8.5" stroke="{{ section.settings.check_color | default: '#3F6B3B' }}" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      {% endif %}
                    </span>
                  {% else %}
                    <span class="feature-compare-ovolite__icon feature-compare-ovolite__icon--cross">
                      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 7l10 10m0-10L7 17" stroke-width="2.2" stroke-linecap="round"/>
                      </svg>
                    </span>
                  {% endif %}
                </span>
                <span class="visually-hidden">
                  {{ section.settings.right_label | default: 'Regular Matcha' }} {% if block.settings.right_state == 'check' %}includes{% else %}does not include{% endif %} {{ block.settings.benefit }}
                </span>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <div class="feature-compare-ovolite__row fc-row-anim--{{ row_animation_style }}" role="row" data-fc-row>
            <div class="feature-compare-ovolite__cell" role="cell">
              <span class="feature-compare-ovolite__benefit">Add benefits in the section settings.</span>
            </div>
            <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--indicator feature-compare-ovolite__cell--check" role="cell">
              <span class="feature-compare-ovolite__pill{% if has_check_image %} feature-compare-ovolite__pill--image{% endif %}" aria-hidden="true">
                <span class="feature-compare-ovolite__icon feature-compare-ovolite__icon--check fc-icon-anim--{{ icon_animation_style }}">
                  {% if has_check_image %}
                    {{
                      section.settings.check_icon_image
                      | image_url: width: 160
                      | image_tag: class: 'feature-compare-ovolite__icon-image', loading: 'lazy', alt: '', role: 'presentation'
                    }}
                  {% elsif use_lottie_checks %}
                    <dotlottie-wc
                      src="{{ lottie_src }}"
                      style="width: {{ lottie_size }}px; height: {{ lottie_size }}px;"
                      autoplay
                      loop
                      aria-hidden="true"
                    ></dotlottie-wc>
                  {% else %}
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.5 12.5L10 17l8.5-8.5" stroke="{{ section.settings.check_color | default: '#3F6B3B' }}" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  {% endif %}
                </span>
              </span>
            </div>
            <div class="feature-compare-ovolite__cell feature-compare-ovolite__cell--indicator feature-compare-ovolite__cell--cross" role="cell">
              <span class="feature-compare-ovolite__pill" aria-hidden="true">
                <span class="feature-compare-ovolite__icon feature-compare-ovolite__icon--cross">
                  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 7l10 10m0-10L7 17" stroke-width="2.2" stroke-linecap="round"/>
                  </svg>
                </span>
              </span>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
  <script>
    (function () {
      var section = document.getElementById('feature-compare-ovolite-{{ section.id }}');
      if (!section) { return; }
      var rows = section.querySelectorAll('[data-fc-row]');
      if (!rows.length) { return; }
      var prefersReducedMotion = false;
      if (window.matchMedia) {
        prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      }
      var forEachRow = function (callback) {
        Array.prototype.forEach.call(rows, callback);
      };
      var revealRow = function (row) {
        row.classList.add('is-visible');
      };
      if (prefersReducedMotion || !('IntersectionObserver' in window)) {
        forEachRow(revealRow);
        var allIcons = section.querySelectorAll('.feature-compare-ovolite__icon--check');
        Array.prototype.forEach.call(allIcons, function (icon) {
          icon.classList.add('is-active');
        });
        return;
      }
      section.classList.add('is-observing');
      var resetImageAnimation = function (image) {
        if (!image) { return; }
        image.style.animation = 'none';
        void image.offsetWidth;
        image.style.animation = '';
      };
      var restartIconAnimations = function (icon) {
        var image = icon.querySelector('.feature-compare-ovolite__icon-image');
        resetImageAnimation(image);
        var lottie = icon.querySelector('dotlottie-wc');
        if (lottie && typeof lottie.seek === 'function') {
          try { lottie.seek(0); } catch (e) {}
        }
        if (lottie && typeof lottie.play === 'function') {
          try { lottie.play(); } catch (e) {}
        }
      };
      var rowObserver = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            rowObserver.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });
      forEachRow(function (row) {
        rowObserver.observe(row);
      });

      var iconTargets = section.querySelectorAll('.feature-compare-ovolite__icon--check');
      if (!iconTargets.length) { return; }

      var iconObserver = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
          var icon = entry.target;
          if (entry.isIntersecting) {
            icon.classList.remove('is-active');
            restartIconAnimations(icon);
            requestAnimationFrame(function () {
              icon.classList.add('is-active');
            });
          } else {
            icon.classList.remove('is-active');
            restartIconAnimations(icon);
          }
        });
      }, { threshold: 0.35, rootMargin: '0px 0px -10%' });
      forEachRow(function (row) {
        var iconsInRow = row.querySelectorAll('.feature-compare-ovolite__icon--check');
        Array.prototype.forEach.call(iconsInRow, function (icon) {
          iconObserver.observe(icon);
        });
      });
    })();
  </script>
</section>

{% schema %}
{
  "name": "Feature Compare Ovolite",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Left column image"
    },
    {
      "type": "text",
      "id": "image_alt",
      "label": "Image alt text",
      "default": "Matcha scoop"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "More for you."
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "See the difference."
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Highlight your product benefits and show how it outperforms the competition.</p>"
    },
    {
      "type": "text",
      "id": "benefit_heading",
      "label": "Benefits column heading",
      "default": "Benefits"
    },
    {
      "type": "text",
      "id": "left_label",
      "label": "Left column label",
      "default": "More"
    },
    {
      "type": "select",
      "id": "row_animation_style",
      "label": "Benefit row animation",
      "default": "slide-up",
      "options": [
        { "value": "slide-up", "label": "Slide up" },
        { "value": "slide-down", "label": "Slide down" },
        { "value": "slide-left", "label": "Slide left" },
        { "value": "slide-right", "label": "Slide right" },
        { "value": "fade", "label": "Fade" },
        { "value": "zoom-in", "label": "Zoom in" },
        { "value": "zoom-out", "label": "Zoom out" },
        { "value": "flip", "label": "Flip" },
        { "value": "rotate", "label": "Rotate" },
        { "value": "bounce", "label": "Bounce" }
      ]
    },
    {
      "type": "range",
      "id": "row_animation_speed",
      "label": "Benefit animation speed",
      "min": 0.2,
      "max": 1.5,
      "step": 0.1,
      "unit": "s",
      "default": 0.6
    },
    {
      "type": "image_picker",
      "id": "left_label_image",
      "label": "Left column label image"
    },
    {
      "type": "text",
      "id": "left_label_image_alt",
      "label": "Left label image alt text",
      "default": "More"
    },
    {
      "type": "range",
      "id": "left_label_image_width",
      "label": "Left label image width",
      "min": 40,
      "max": 160,
      "step": 4,
      "unit": "px",
      "default": 80
    },
    {
      "type": "text",
      "id": "right_label",
      "label": "Right column label",
      "default": "Regular Matcha"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment (desktop)",
      "default": "left",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "select",
      "id": "text_alignment_mobile",
      "label": "Text alignment (mobile)",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 180,
      "step": 4,
      "unit": "px",
      "default": 96
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 180,
      "step": 4,
      "unit": "px",
      "default": 64
    },
    {
      "type": "range",
      "id": "left_column_width",
      "label": "Left column width (%)",
      "min": 30,
      "max": 50,
      "step": 1,
      "unit": "%",
      "default": 40
    },
    {
      "type": "range",
      "id": "max_width",
      "label": "Content max width",
      "min": 960,
      "max": 1440,
      "step": 20,
      "unit": "px",
      "default": 1180
    },
    {
      "type": "range",
      "id": "content_max_width",
      "label": "Body text max width",
      "min": 360,
      "max": 760,
      "step": 20,
      "unit": "px",
      "default": 600
    },
    {
      "type": "range",
      "id": "media_border_radius",
      "label": "Image corner radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "media_min_height",
      "label": "Left column minimum height (desktop)",
      "min": 320,
      "max": 820,
      "step": 20,
      "unit": "px",
      "default": 480
    },
    {
      "type": "range",
      "id": "media_min_height_mobile",
      "label": "Left column minimum height (mobile)",
      "min": 240,
      "max": 640,
      "step": 20,
      "unit": "px",
      "default": 340
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#F5F7EC"
    },
    {
      "type": "color",
      "id": "image_fallback_color",
      "label": "Image placeholder color",
      "default": "#DDE8C9"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#618049"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#618049"
    },
    {
      "type": "color",
      "id": "body_color",
      "label": "Body text color",
      "default": "rgba(50, 81, 45, 0.72)"
    },
    {
      "type": "color",
      "id": "header_color",
      "label": "Table header color",
      "default": "rgba(50, 81, 45, 0.7)"
    },
    {
      "type": "color",
      "id": "row_border_color",
      "label": "Row divider color",
      "default": "rgba(98, 128, 73, 0.28)"
    },
    {
      "type": "color",
      "id": "check_background",
      "label": "Check background color",
      "default": "rgba(193, 217, 170, 0.35)"
    },
    {
      "type": "color",
      "id": "check_color",
      "label": "Check icon color",
      "default": "#3F6B3B"
    },
    {
      "type": "color",
      "id": "cross_color",
      "label": "Cross icon color",
      "default": "rgba(50, 81, 45, 0.55)"
    },
    {
      "type": "image_picker",
      "id": "check_icon_image",
      "label": "Check icon image",
      "info": "Upload the PNG check icon to replace the default animation."
    },
    {
      "type": "select",
      "id": "check_icon_animation_style",
      "label": "Check icon animation style",
      "default": "float",
      "options": [
        { "value": "float", "label": "Float" },
        { "value": "pulse", "label": "Pulse" },
        { "value": "sway", "label": "Sway" },
        { "value": "tilt", "label": "Tilt" },
        { "value": "pop", "label": "Pop" },
        { "value": "bounce", "label": "Bounce" },
        { "value": "wiggle", "label": "Wiggle" },
        { "value": "flash", "label": "Flash" },
        { "value": "zoom", "label": "Zoom" },
        { "value": "spin", "label": "Spin" }
      ]
    },
    {
      "type": "range",
      "id": "check_icon_animation_speed",
      "label": "Check icon animation speed (seconds)",
      "min": 2,
      "max": 8,
      "step": 1,
      "unit": "s",
      "default": 4
    },
    {
      "type": "checkbox",
      "id": "use_lottie_checks",
      "label": "Animate check icon with Lottie",
      "default": false
    },
    {
      "type": "url",
      "id": "lottie_src",
      "label": "Lottie file URL",
      "info": "Paste a .json or .lottie animation URL for the check icon."
    },
    {
      "type": "range",
      "id": "lottie_size",
      "label": "Lottie icon size",
      "min": 16,
      "max": 64,
      "step": 2,
      "unit": "px",
      "default": 28
    }
  ],
  "blocks": [
    {
      "type": "row",
      "name": "Benefit item",
      "settings": [
        {
          "type": "text",
          "id": "benefit",
          "label": "Benefit",
          "default": "Low in carbs"
        },
        {
          "type": "select",
          "id": "left_state",
          "label": "Left column icon",
          "default": "check",
          "options": [
            { "value": "check", "label": "Check" },
            { "value": "cross", "label": "Cross" }
          ]
        },
        {
          "type": "select",
          "id": "right_state",
          "label": "Right column icon",
          "default": "cross",
          "options": [
            { "value": "check", "label": "Check" },
            { "value": "cross", "label": "Cross" }
          ]
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Feature Compare Ovolite",
      "category": "Product",
      "blocks": [
        {
          "type": "row",
          "settings": {
            "benefit": "Low in carbs",
            "left_state": "check",
            "right_state": "cross"
          }
        },
        {
          "type": "row",
          "settings": {
            "benefit": "Low in sugar",
            "left_state": "check",
            "right_state": "cross"
          }
        },
        {
          "type": "row",
          "settings": {
            "benefit": "High in protein",
            "left_state": "check",
            "right_state": "cross"
          }
        }
      ]
    }
  ]
}
{% endschema %}

